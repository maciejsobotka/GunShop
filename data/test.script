CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE WEAPON(WEAPON_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL,ADDDATE TIMESTAMP,CODE VARCHAR(255),"NAME" VARCHAR(255),"TYPE" VARCHAR(255),WEAPON_TYPE VARCHAR(255) NOT NULL,BARRELLENGTH INTEGER,BLADELENGTH INTEGER,CONSTRAINT WEAPON_PK PRIMARY KEY(WEAPON_ID))
CREATE MEMORY TABLE INVOICE(INVOICE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL,ADDRESS_ADDRESS_ID_OID BIGINT,CLIENT_CLIENT_ID_OID BIGINT,COST FLOAT NOT NULL,"DATE" TIMESTAMP,DUEDATE TIMESTAMP,INVOICES_CLIENT_ID_OID BIGINT,CONSTRAINT INVOICE_PK PRIMARY KEY(INVOICE_ID))
CREATE INDEX INVOICE_N50 ON INVOICE(ADDRESS_ADDRESS_ID_OID)
CREATE INDEX INVOICE_N49 ON INVOICE(CLIENT_CLIENT_ID_OID)
CREATE MEMORY TABLE ADDRESS(ADDRESS_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL,CITY VARCHAR(255),POSTCODE VARCHAR(255),STREET VARCHAR(255),CONSTRAINT ADDRESS_PK PRIMARY KEY(ADDRESS_ID))
CREATE MEMORY TABLE ACCESSORY(ACCESSORY_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL,ADDDATE TIMESTAMP,CODE VARCHAR(255),"NAME" VARCHAR(255),WEAPON_WEAPON_ID_OID BIGINT,CONSTRAINT ACCESSORY_PK PRIMARY KEY(ACCESSORY_ID),CONSTRAINT ACCESSORY_FK1 FOREIGN KEY(WEAPON_WEAPON_ID_OID) REFERENCES WEAPON(WEAPON_ID))
CREATE INDEX ACCESSORY_N49 ON ACCESSORY(WEAPON_WEAPON_ID_OID)
CREATE MEMORY TABLE CLIENT(CLIENT_ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 0) NOT NULL,ADDRESS_ADDRESS_ID_OID BIGINT,"NAME" VARCHAR(255),CONSTRAINT CLIENT_PK PRIMARY KEY(CLIENT_ID),CONSTRAINT CLIENT_FK1 FOREIGN KEY(ADDRESS_ADDRESS_ID_OID) REFERENCES ADDRESS(ADDRESS_ID))
CREATE INDEX CLIENT_N49 ON CLIENT(ADDRESS_ADDRESS_ID_OID)
CREATE MEMORY TABLE INVOICES_WEAPONS(INVOICE_ID BIGINT NOT NULL,WEAPON_ID BIGINT NOT NULL,CONSTRAINT INVOICES_WEAPONS_PK PRIMARY KEY(INVOICE_ID,WEAPON_ID),CONSTRAINT INVOICES_WEAPONS_FK2 FOREIGN KEY(WEAPON_ID) REFERENCES WEAPON(WEAPON_ID),CONSTRAINT INVOICES_WEAPONS_FK1 FOREIGN KEY(INVOICE_ID) REFERENCES INVOICE(INVOICE_ID))
CREATE INDEX INVOICES_WEAPONS_N49 ON INVOICES_WEAPONS(INVOICE_ID)
CREATE INDEX INVOICES_WEAPONS_N50 ON INVOICES_WEAPONS(WEAPON_ID)
CREATE MEMORY TABLE WEAPON_ACCESSORIES(WEAPON_ID_OID BIGINT NOT NULL,ACCESSORY_ID_EID BIGINT NOT NULL,CONSTRAINT WEAPON_ACCESSORIES_PK PRIMARY KEY(WEAPON_ID_OID,ACCESSORY_ID_EID),CONSTRAINT WEAPON_ACCESSORIES_FK2 FOREIGN KEY(ACCESSORY_ID_EID) REFERENCES ACCESSORY(ACCESSORY_ID),CONSTRAINT WEAPON_ACCESSORIES_FK1 FOREIGN KEY(WEAPON_ID_OID) REFERENCES WEAPON(WEAPON_ID))
CREATE INDEX WEAPON_ACCESSORIES_N50 ON WEAPON_ACCESSORIES(ACCESSORY_ID_EID)
CREATE INDEX WEAPON_ACCESSORIES_N49 ON WEAPON_ACCESSORIES(WEAPON_ID_OID)
CREATE MEMORY TABLE INVOICES_ACCESSORIES(INVOICE_ID BIGINT NOT NULL,ACCESSORY_ID BIGINT NOT NULL,CONSTRAINT INVOICES_ACCESSORIES_PK PRIMARY KEY(INVOICE_ID,ACCESSORY_ID),CONSTRAINT INVOICES_ACCESSORIES_FK1 FOREIGN KEY(INVOICE_ID) REFERENCES INVOICE(INVOICE_ID),CONSTRAINT INVOICES_ACCESSORIES_FK2 FOREIGN KEY(ACCESSORY_ID) REFERENCES ACCESSORY(ACCESSORY_ID))
CREATE INDEX INVOICES_ACCESSORIES_N49 ON INVOICES_ACCESSORIES(INVOICE_ID)
CREATE INDEX INVOICES_ACCESSORIES_N50 ON INVOICES_ACCESSORIES(ACCESSORY_ID)
ALTER TABLE INVOICE ADD CONSTRAINT INVOICE_FK3 FOREIGN KEY(INVOICES_CLIENT_ID_OID) REFERENCES CLIENT(CLIENT_ID)
ALTER TABLE INVOICE ADD CONSTRAINT INVOICE_FK2 FOREIGN KEY(CLIENT_CLIENT_ID_OID) REFERENCES CLIENT(CLIENT_ID)
ALTER TABLE INVOICE ADD CONSTRAINT INVOICE_FK1 FOREIGN KEY(ADDRESS_ADDRESS_ID_OID) REFERENCES ADDRESS(ADDRESS_ID)
ALTER TABLE WEAPON ALTER COLUMN WEAPON_ID RESTART WITH 120
ALTER TABLE INVOICE ALTER COLUMN INVOICE_ID RESTART WITH 116
ALTER TABLE ADDRESS ALTER COLUMN ADDRESS_ID RESTART WITH 200
ALTER TABLE ACCESSORY ALTER COLUMN ACCESSORY_ID RESTART WITH 160
ALTER TABLE CLIENT ALTER COLUMN CLIENT_ID RESTART WITH 80
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 20
